{% load file_size %}
<div class="w-1/2">
    <h2 class="text-lg font-semibold mb-2 text-left">Uploaded Files</h2> <!-- Smaller title, left-aligned -->
    <ul class="mt-2 space-y-2 max-h-80 overflow-y-auto"> <!-- Max height and scrollable -->
        {% for file in user_files %}
        <li class="flex items-start bg-gray-100 p-3 rounded-lg shadow-sm" data-file-id="{{ file.id }}">
            <!-- Icon -->
            <div class="flex-shrink-0">
                <i class="fas fa-file-pdf text-red-500 text-2xl"></i> <!-- Smaller icon -->
            </div>
            <!-- File Information -->
            <div class="ml-3 flex-1">
                <!-- File Name -->
                <div class="text-sm font-medium text-gray-800">{{ file.name }}</div>
                <!-- File Size and Upload Date (on the same row) -->
                <div class="flex justify-between text-xs text-gray-500 mt-1"> <!-- Flex for inline layout -->
                    <p>{{ file.length|bytes_to_mb }}</p>
                    <p>{{ file.upload_date|date:"F j, Y" }}</p>
                </div>
            </div>
            <!-- Action Buttons (View and Delete) -->
            <div class="flex flex-col space-y-2 ml-4">
                <!-- View Button -->
                <a href="{% url 'serve_protected_file' file.id %}" class="text-blue-500 hover:text-blue-700">
                    <i class="fa-solid fa-download"></i>
                </a>
                <!-- Delete Button -->
                <button type="button" class="text-red-500 hover:text-red-700 delete-file-btn">
                    <i class="fas fa-trash-alt"></i> <!-- Delete icon -->
                </button>
            </div>
        </li>
        {% empty %}
        <p class="text-gray-500 text-left">No files uploaded yet.</p> <!-- Left-aligned empty message -->
        {% endfor %}
    </ul>
</div>